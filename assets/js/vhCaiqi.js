document.addEventListener("DOMContentLoaded",(()=>{(()=>{const t={canvas:null,ctx:null,W:0,H:0,isStart:!1,mp:150,particles:[],angle:0,tiltAngle:0,confettiActive:!0,animationComplete:!0,animationHandler:null,particleColors:{colorOptions:["DodgerBlue","OliveDrab","Gold","pink","SlateBlue","lightblue","Violet","PaleGreen","SteelBlue","SandyBrown","Chocolate","Crimson"],colorIndex:0,colorIncrementer:0,getColor:function(){return++this.colorIncrementer%10==0&&(this.colorIndex=(this.colorIndex+1)%this.colorOptions.length),this.colorOptions[this.colorIndex]}}};function n(){[t.W,t.H]=[t.canvas.width,t.canvas.height]}function e(){t.particles=Array.from({length:t.mp},(()=>{return n=t.particleColors.getColor(),e=t.W,o=t.H,i=t.mp,{x:Math.random()*e,y:Math.random()*o-o,r:(a=10,r=30,Math.floor(Math.random()*(r-a+1)+a)),d:Math.random()*i+10,color:n,tilt:Math.floor(10*Math.random())-10,tiltAngleIncremental:.07*Math.random()+.05,tiltAngle:0};var n,e,o,i,a,r})),t.animationComplete=!1,[t.W,t.H]=[window.innerWidth,window.innerHeight],t.animationComplete||o()}function o(){t.animationComplete||(n(),t.ctx.clearRect(0,0,t.W,t.H),t.particles.forEach((n=>function(t,n){n.beginPath(),n.lineWidth=t.r/2,n.strokeStyle=t.color,n.moveTo(t.x+t.tilt+t.r/4,t.y),n.lineTo(t.x+t.tilt,t.y+t.tilt+t.r/4),n.stroke()}(n,t.ctx))),function(){t.angle+=.01,t.tiltAngle+=.1;0===t.particles.reduce(((n,e,o)=>(t.animationComplete||(!t.confettiActive&&e.y<-15?e.y=t.H+100:(function(n,e){n.tiltAngle+=n.tiltAngleIncremental,n.y+=(Math.cos(t.angle+n.d)+3+n.r/2)/2,n.x+=Math.sin(t.angle),n.tilt=15*Math.sin(n.tiltAngle-e/3)}(e,o),e.y<=t.H&&n++,function(n,e){if(!(n.x>t.W+20||n.x<-20||n.y>t.H))return;const o=e%5>0||e%2==0?{x:Math.random()*t.W,y:-10}:Math.sin(t.angle)>0?{x:-5,y:Math.random()*t.H}:{x:t.W+5,y:Math.random()*t.H};!function(t,n,e){Object.assign(t,{x:n,y:e,tilt:Math.floor(10*Math.random())-10})}(n,o.x,o.y)}(e,o))),n)),0)&&i()}(),t.animationHandler=requestAnimationFrame(o))}function i(){t.animationComplete=!0,t.ctx?.clearRect(0,0,t.W,t.H)}function a(){cancelAnimationFrame(t.animationHandler)}function r(){t.confettiActive=!1,a(),i(),t.isStart=!1}function l(){t.isStart||(n(),t.isStart=!0,a(),setTimeout((()=>{t.confettiActive=!0,t.animationComplete=!1,e()}),100))}return{init:()=>{t.canvas=document.querySelector(".vh-aside-item.user > canvas"),t.ctx=t.canvas.getContext("2d"),document.querySelectorAll(".vh-aside-item.user").forEach((t=>{t.addEventListener("mouseenter",l),t.addEventListener("mouseleave",r)})),window.addEventListener("resize",n)}}})().init()}));