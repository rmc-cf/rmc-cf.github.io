export default(t,e)=>{document.querySelectorAll(".vh-paopao").forEach((t=>setTimeout((()=>t.remove()))));const s=Object.assign({radius:10,density:.3,clearOffset:.2},e);let a,o,i,n=!0;const r=document.createElement("canvas"),h=[];class d{constructor(){this.reset()}reset(){this.x=Math.random()*a,this.y=o+100*Math.random(),this.alpha=.1+Math.random()*s.clearOffset,this.scale=.1+.3*Math.random(),this.speed=Math.random(),this.color="random"===s.color?`rgba(${255*Math.random()|0},0,0,${Math.random().toFixed(2)})`:s.color}draw(){this.alpha<=0&&this.reset(),this.y-=this.speed,this.alpha-=5e-4,i.beginPath(),i.arc(this.x,this.y,this.scale*s.radius,0,2*Math.PI),i.fillStyle=this.color,i.fill()}}a=t.offsetWidth,o=t.offsetHeight,Object.assign(r.style,{top:"0",zIndex:"0",position:"absolute","pointer-events":"none"}),t.append(r),t.parentElement.style.overflow="hidden",r.width=a,r.height=o,r.classList.add("vh-paopao"),i=r.getContext("2d");const l=()=>{n&&i.clearRect(0,0,a,o),h.forEach((t=>t.draw())),requestAnimationFrame(l)};Array.from({length:a*s.density|0},(()=>h.push(new d))),l(),window.addEventListener("scroll",(()=>n=document.documentElement.scrollTop<=o)),window.addEventListener("resize",(()=>{a=t.clientWidth,o=t.clientHeight,r.width=a,r.height=o}))};